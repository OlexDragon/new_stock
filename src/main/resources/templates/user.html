<!DOCTYPE html>
<html	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:th="http://www.thymeleaf.org"
		xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
		lang="en">
    <head>
        <title>IRT USERS</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<th:block th:replace="components :: bootstrapLink">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</th:block>
    <link rel="stylesheet" href="../static/css/components.css" th:href="@{/css/components.css}">
<style type="text/css"> .table_head{ cursor: pointer; } </style>
</head>

    <body>

	<nav class="navbar fixed-top navbar-light bg-light row">
 
<!-- Navigation Dropdown Menu from components.html -->
		<div class="dropdown" th:replace="components :: dropdownMenu">
  			<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false"></button>
  			<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    			<a class="dropdown-item" href="components.html" th:href="@{/}">Components</a>
    			<a class="dropdown-item" href="bom.html" th:href="@{/bom}">BOMs</a>
  			</div>
		</div>
	</nav>

	<div id="allUsers" class="container-fluid bg-white pt-3 mt-5"  sec:authorize="hasAuthority('ADMIN') or hasAuthority('USER') or hasAuthority('USER_EDIT')">
<table class="table table-striped table-hover" th:with="canEdit=${#authorization.expression('hasAuthority(''ADMIN'')') or #authorization.expression('hasAuthority(''USER_EDIT'')')}">
  		<thead class="thead-light">
    		<tr>
      			<th scope="col">Username</th>
      			<th scope="col">First Name</th>
      			<th scope="col">Last Name</th>
      			<th scope="col">Extension</th>
      			<th scope="col">Email</th>
      			<th scope="col" th:if="${canEdit?:false}">Status</th>
   			</tr>
  	</thead>
  	<tbody id="tableBody">
  		<tr th:each="u : ${users}" th:attr="data-value=${u.id}" th:if="${canEdit?:false or u.status==activeUser}" >
  			<th th:text="${u.username}">Username</th>
  			<td th:text="${u.firstname}">First Name</td>
  			<td th:text="${u.lastname}">Last Name</td>
  			<td th:text="${u.extension}">Extension</td>
  			<td th:text="${u.email}">Email</td>
  			<td th:text="${u.status}" th:if="${canEdit?:false}" th:classappend="${ u.status.equals(activeUser) ? 'table-success' : 'table-danger' }"></td>
  		</tr>
  	</tbody>
</table>
	</div>
	<div id="modal"></div>
<th:block th:replace="components :: scripts">
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</th:block>
<script sec:authorize="hasAuthority('ADMIN') or hasAuthority('USER_EDIT')" src="../static/js/user.js" th:src="@{/js/user.js}" type="text/javascript"></script>
<script type="text/javascript">
	$('#userMenu').addClass('active');
	//# sourceURL=search-page.js
</script>
    </body>
</html>